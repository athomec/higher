<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
    <title>æ”¿å¤§é«˜æ•™æ·±è€•è¨ˆç•«å°ˆæ¡ˆç®¡è€ƒå¹³å°</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="æ”¿å¤§é«˜æ•™æ·±è€•è¨ˆç•«å°ˆæ¡ˆç®¡è€ƒå¹³å°,æ”¿å¤§,é«˜ç­‰æ•™è‚²,æ”¿å¤§é«˜æ•™æ·±è€•è¨ˆç•«">
    <meta name="description" content="æ”¿å¤§é«˜æ•™æ·±è€•è¨ˆç•«å°ˆæ¡ˆç®¡è€ƒå¹³å°" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta property="og:site_name" content="æ”¿å¤§é«˜æ•™æ·±è€•è¨ˆç•«å°ˆæ¡ˆç®¡è€ƒå¹³å°" />
    <meta property="og:image" content="../assets/images/fb-img.png" />
    <!--åˆ†äº«è¨­å®š-->
    <link rel="icon" href="../assets/images/favicon.png">
    <!-- Bootstrap -->
    <link rel="stylesheet" href="../assets/vendor/bootstrap-5.3.3/dist/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="../assets/vendor/fontawesome-free-6.5.2-web/css/all.min.css">
    <!-- è‡ªè¨‚ -->
    <link rel="stylesheet" href="../assets/style/main.css">
    <link rel="stylesheet-disabled" href="../assets/style/login.css">
    <!-- flatpickr -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/zh.js"></script>
    <!-- script é–‹å§‹ -->
    <script src="../assets/js/jquery-3.7.1.min.js"></script>
    <script src="../assets/js/bootstrap.bundle.js"></script>
    <script src="../assets/js/jquery-ui.js"></script>
    <script src="../assets/js/echarts.js"></script><!--åœ–è¡¨-->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script><!--åœ–è¡¨-->
    <script src="../assets/js/footable.js"></script><!--åœ–è¡¨-->
    <script src="../assets/js/script.js"></script><!--è‡ªè¨‚-->
    <!-- script çµæŸ -->

</head>
    <body>
        <div class="container py-5">
            <p class=""><i class="fa-solid fa-circle-chevron-left"></i> <a href="../_components.html" class="text-body">å›å…ƒä»¶è¡¨</a></p>
            <div class="bg-white rounded-3 my-5">
                
<h4 class="p-5 border-bottom">åœ–è¡¨</h4>
<div class="p-5">
  <div class="">
    <div class="item">
      <div id="app" class="row g-3">
        <div class="col-md-6 col-lg-3">
          <div class="hstack gap-2">
            <span class="text-nowrap">é‡‘é¡Aé …ç›®</span>
            <input type="text" class="form-control text-end" value="1,231,234">
          </div>
        </div>
        <div class="col-md-6 col-lg-3">
          <div class="hstack gap-2">
            <span class="text-nowrap">é‡‘é¡Aé …ç›®</span>
            <input type="text" class="form-control text-end" value="1,231,234">
          </div>
        </div>
        <div class="col-md-6 col-lg-3">
          <div class="hstack gap-2">
            <span class="text-nowrap">é‡‘é¡Aé …ç›®</span>
            <input type="text" class="form-control text-end" value="1,231,234">
          </div>
        </div>
        <div class="col-md-6 col-lg-3">
          <div class="hstack gap-2">
            <span class="text-nowrap">é‡‘é¡Aé …ç›®</span>
            <input type="text" class="form-control text-end" value="1,231,234">
          </div>
        </div>
        <div class="col-lg-6">
          <div class="chart-header bg-blue">
            <p>åˆ†é …å¯¦æ”¯ç‡</p>
            <label for="chart-rate-select" class="form-label mb-0 visually-hidden">åœ–è¡¨</label>
            <select class="form-select" id="chart-rate-select">
              <option value="é•·æ¢åœ–">é•·æ¢åœ–</option>
              <option value="åœ“é¤…åœ–">åœ“é¤…åœ–</option>
            </select>
          </div>
          <div class="light-container rounded-top-0">
            <div id="chart-rate" style="width: 100%; height:300px;"></div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="chart-header bg-blue">
            <p>å°šå¯ç”¨ç¶“è²»</p>
            <label for="chart-fund-select" class="form-label mb-0 visually-hidden">åœ–è¡¨</label>
            <select class="form-select" id="chart-fund-select">
              <option value="åœ“é¤…åœ–">åœ“é¤…åœ–</option>
              <option value="é•·æ¢åœ–">é•·æ¢åœ–</option>
            </select>
          </div>
          <div class="light-container rounded-top-0">
            <div id="chart-fund" style="width: 100%; height:300px;"></div>
          </div>
        </div>
        <div class="col-12">
          <div class="chart-header bg-blue">
            <p>æ¯æœˆåŸ·è¡Œæ¯”é‡</p>
            <label for="chart-run-select" class="form-label mb-0 visually-hidden">åœ–è¡¨</label>
            <select class="form-select" id="chart-run-select">
              <option value="æ›²ç·šè¶¨å‹¢åˆ†å¸ƒåœ–">æ›²ç·šè¶¨å‹¢åˆ†å¸ƒåœ– </option>
              <option value="å †ç–ŠæŸ±ç‹€åœ–">å †ç–ŠæŸ±ç‹€åœ– </option>
            </select>
          </div>
          <div class="light-container rounded-top-0 py-3">
            <div id="chart-run" style="width: 100%; height:580px;"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

<script type="text/javascript">
  const allCharts = [];

  // å»ºç«‹é•·æ¢åœ– Option
  function createBarOption(categories, data, tooltipFormatter) {
    return {
      tooltip: {
        trigger: 'item',
        formatter: tooltipFormatter || (p => `${p.name} : ${p.value}`)
      },
      xAxis: { type: 'category', data: categories },
      yAxis: { show: false },
      series: [{ data: data, type: 'bar' }]
    };
  }

  // å»ºç«‹åœ“é¤…åœ– Option
  function createPieOption(categories, data, tooltipFormatter) {
    const isSmallScreen = window.innerWidth < 1600;

    return {
      tooltip: {
        trigger: 'item',
        formatter: tooltipFormatter || (p => `${p.name} : ${p.value}`)
      },
      series: [{
        type: 'pie',
        radius: '60%',
        center: isSmallScreen ? ['50%', '60%'] : ['50%', '50%'], // ğŸ’¡ è‡ªå‹•èª¿æ•´åœ“å¿ƒ
        data: categories.map((name, i) => ({
          name: name,
          value: data[i]
        })),
        label: {
          position: getResponsiveLabel(),
        }
      }],
      legend: getResponsiveLegend(),
    };
  }

  function getResponsiveLegend() {
    if (window.innerWidth < 1600) {
      return {
        orient: 'horizontal',
        left: 'center',
        top: 8
      };
    } else {
      return {
        orient: 'vertical',
        left: 'left',
        top: 0,
        padding: [30, 0, 0, 20]
      };
    }
  }
  function getResponsiveLabel() {
    return window.innerWidth < 500 ? 'inside' : 'outside';
  }
  // åˆå§‹åŒ–ä¸€å€‹å¯ç”± select åˆ‡æ›çš„ ECharts
  function setupToggleChart(domId, selectId, optionsMap, defaultKey) {
    const chart = echarts.init(document.getElementById(domId));
    let currentKey = defaultKey;

    chart.setOption(optionsMap[currentKey]);
    allCharts.push({ chart, optionsMap, currentKey });

    document.getElementById(selectId)
      .addEventListener('change', e => {
        currentKey = e.target.value;
        chart.setOption(optionsMap[currentKey], true);
        const chartItem = allCharts.find(c => c.chart === chart);
        if (chartItem) chartItem.currentKey = currentKey;
      });
  }

  // ç¬¬ä¸€çµ„ï¼šåˆ†é …å¯¦æ”¯ //
  const categories1 = ['äººäº‹è²»', 'æ¥­å‹™è²» 1', 'æ¥­å‹™è²» 2', 'åœ‹å¤–å·®æ—…è²»', 'è³‡æœ¬é–€'];
  const data1 = [12.9, 3.7, 7.71, 5, 5];
  const bar1 = createBarOption(
    categories1, data1,
    p => `${p.name} : ${p.value}%`
  );
  const pie1 = createPieOption(
    categories1, data1,
    p => `${p.name} : ${p.value}%`
  );
  setupToggleChart(
    'chart-rate',
    'chart-rate-select',
    { 'é•·æ¢åœ–': bar1, 'åœ“é¤…åœ–': pie1 },
    'é•·æ¢åœ–'
  );

  //  ç¬¬äºŒçµ„ï¼šå¯ç”¨ç¶“è²» //
  const data2 = [1094401, 342000, 590217, 120000, 36000];
  const bar2 = createBarOption(
    categories1, data2,
    p => `${p.name} : ${p.value.toLocaleString()}`
  );
  const pie2 = createPieOption(
    categories1, data2,
    p => `${p.name} : ${p.value.toLocaleString()} (${p.percent}%)`
  );
  setupToggleChart(
    'chart-fund',
    'chart-fund-select',
    { 'é•·æ¢åœ–': bar2, 'åœ“é¤…åœ–': pie2 },
    'åœ“é¤…åœ–'
  );

  //  ç¬¬ä¸‰çµ„ï¼šæ¯æœˆè¶¨å‹¢ vs å †ç–ŠæŸ±ç‹€  //
  // æ›²ç·šè¶¨å‹¢åˆ†å¸ƒ
  const stackArea = {
    tooltip: {
      trigger: 'axis',
      axisPointer: { type: 'cross', label: { backgroundColor: '#6a7985' } }
    },
    legend: { data: categories1 },
    grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
    xAxis: [{ type: 'category', boundaryGap: false, data: ['ä¸€æœˆ', 'äºŒæœˆ', 'ä¸‰æœˆ', 'å››æœˆ', 'äº”æœˆ', 'å…­æœˆ', 'ä¸ƒæœˆ'] }],
    yAxis: [{ type: 'value' }],
    series: [
      { name: 'äººäº‹è²»', type: 'line', stack: 'ç¸½é‡', areaStyle: {}, emphasis: { focus: 'series' }, data: [320, 332, 301, 334, 390, 330, 320] },
      { name: 'æ¥­å‹™è²» 1', type: 'line', stack: 'ç¸½é‡', areaStyle: {}, emphasis: { focus: 'series' }, data: [120, 132, 101, 134, 90, 230, 210] },
      { name: 'æ¥­å‹™è²» 2', type: 'line', stack: 'ç¸½é‡', areaStyle: {}, emphasis: { focus: 'series' }, data: [220, 182, 191, 234, 290, 330, 310] },
      { name: 'åœ‹å¤–å·®æ—…è²»', type: 'line', stack: 'ç¸½é‡', areaStyle: {}, emphasis: { focus: 'series' }, data: [150, 232, 201, 154, 190, 330, 410] },
      { name: 'è³‡æœ¬é–€', type: 'line', stack: 'ç¸½é‡', areaStyle: {}, emphasis: { focus: 'series' }, data: [820, 932, 901, 934, 1290, 1330, 1320] }
    ]
  };

  // å †ç–ŠæŸ±ç‹€åœ–
  const stackBar = {
    xAxis: { data: categories1 },
    yAxis: {},
    series: [
      { data: [10, 22, 28, 43, 49], type: 'bar', stack: 'x' },
      { data: [5, 4, 3, 5, 10], type: 'bar', stack: 'x' }
    ]
  };

  setupToggleChart(
    'chart-run',
    'chart-run-select',
    {
      'æ›²ç·šè¶¨å‹¢åˆ†å¸ƒåœ–': stackArea,
      'å †ç–ŠæŸ±ç‹€åœ–': stackBar
    },
    'æ›²ç·šè¶¨å‹¢åˆ†å¸ƒåœ–'
  );
  window.addEventListener('resize', function () {
    allCharts.forEach(({ chart, optionsMap, currentKey }) => {
      const option = optionsMap[currentKey];
      const isPie = option.series && option.series[0]?.type === 'pie';

      if (isPie) {
        const isSmallScreen = window.innerWidth < 1600;
        chart.setOption({
          legend: getResponsiveLegend(),
          series: [{
            center: isSmallScreen ? ['50%', '60%'] : ['50%', '50%'],
            label: {
              position: getResponsiveLabel()
            }
          }]
        });
      }

      chart.resize();
    });
  });
</script>
            </div>
        </div>
    </body>
</html>